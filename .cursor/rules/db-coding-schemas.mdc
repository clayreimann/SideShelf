---
description: Audiobookshelf schema descriptions and api reference
alwaysApply: false
---

## API Reference
When I ask you to refer to the API, consult the documentation at https://api.audiobookshelf.org/

## Schemas

### User
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| id           | String                 | The ID of the user. Only the root user has the root ID.                                      |
| username     | String                 | The username of the user.                                                                      |
| type         | String                 | The type of the user. Will be root, guest, user, or admin. There will be only one root user which is created when the server first starts.                                                                      |
| mediaProgress| Array of Media Progress| The user's media progress.                                                                      |
| seriesHideFromContinueListening | Array of String| The IDs of series to hide from the user's "Continue Series" shelf.                              |
| bookmarks| Array of Audio Bookmark| The user's bookmarks.                                                                      |
| isActive| Boolean| Whether the user's account is active.                                                                      |
| isLocked| Boolean| Whether the user is locked.                                                                      |
| lastSeen| Integer or null| The time (in ms since POSIX epoch) when the user was last seen by the server. Will be null if the user has never logged in.                                                                      |
| createdAt| Integer| The time (in ms since POSIX epoch) when the user was created.                                                                      |
| permissions| User Permissions Object| The user's permissions.                                                                      |
| librariesAccessible| Array of String| The IDs of libraries accessible to the user. An empty array means all libraries are accessible.                                                                      |
| itemTagsAccessible| Array of String| The tags accessible to the user. An empty array means all tags are accessible.                                                                      |

### MediaProgress
| Attribute                   | Type             | Description                                                                                                                                                                                                                  |
|-----------------------------|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                          | String           | The ID of the media progress. If the media progress is for a book, this will just be the libraryItemId. If for a podcast episode, it will be a hyphenated combination of the libraryItemId and episodeId.                    |
| libraryItemId               | String           | The ID of the library item the media progress is of.                                                                                                                                                                         |
| episodeId                   | String or null   | The ID of the podcast episode the media progress is of. Will be null if the progress is for a book.                                                                                                                          |
| duration                    | Float            | The total duration (in seconds) of the media. Will be 0 if the media was marked as finished without the user listening to it.                                                                                                |
| progress                    | Float            | The percentage completion progress of the media. Will be 1 if the media is finished.                                                                                                                                         |
| currentTime                 | Float            | The current time (in seconds) of the user's progress. If the media has been marked as finished, this will be the time the user was at beforehand.                                                                            |
| isFinished                  | Boolean          | Whether the media is finished.                                                                                                                                                                                               |
| hideFromContinueListening   | Boolean          | Whether the media will be hidden from the "Continue Listening" shelf.                                                                                                                  |
| lastUpdate                  | Integer          | The time (in ms since POSIX epoch) when the media progress was last updated.                                                                                                           |
| startedAt                   | Integer          | The time (in ms since POSIX epoch) when the media progress was created.                                                                                                                |
| finishedAt                  | Integer or null  | The time (in ms since POSIX epoch) when the media was finished. Will be null if the media has is not finished.                                                                         |


### Library
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| id           | String                 | The ID of the library. (Read Only)                                                            |
| name         | String                 | The name of the library.                                                                      |
| folders      | Array of Folder        | The folders that the library is composed of on the server.                                    |
| displayOrder | Integer                | Display position of the library in the list of libraries. Must be >= 1.                       |
| icon         | String                 | The selected icon for the library. See Library Icons for a list of possible icons.            |
| mediaType    | String                 | The type of media that the library contains. Will be book or podcast. (Read Only)             |
| provider     | String                 | Preferred metadata provider for the library. See Metadata Providers for a list of possible providers. |
| settings     | Library Settings Object| The settings for the library.                                                                 |
| createdAt    | Integer                | The time (in ms since POSIX epoch) when the library was created. (Read Only)                  |
| lastUpdate   | Integer                | The time (in ms since POSIX epoch) when the library was last updated. (Read Only)             |

### LibraryFilterData
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| authors      | Array of Author Minified| The authors of books in the library.                                                          |
| genres       | Array of String        | The genres of books in the library.                                                          |
| tags         | Array of String        | The tags in the library.                                                                      |
| series       | Array of Series        | The series in the library. The series will only have their id and name.                        |
| narrators    | Array of String        | The narrators of books in the library.                                                        |
| languages    | Array of String        | The languages of books in the library.                                                        |

### LibraryFile
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| id           | String                 | The ID of the library item.                                                                  |
| ino          | String                 | The inode of the library item.                                                                  |
| libraryId    | String                 | The ID of the library the item belongs to.                                                  |
| folderId     | String                 | The ID of the folder the library item is in.                                                 |
| path         | String                 | The path of the library item on the server.                                                 |
| relPath        | String                 | The path, relative to the library folder, of the library item.                             |
| isFile         | Boolean                | Whether the library item is a single file in the root of the library folder.              |
| mtimeMs        | Integer                | The time (in ms since POSIX epoch) when the library item was last modified on disk.      |
| ctimeMs        | Integer                | The time (in ms since POSIX epoch) when the library item status was changed on disk.    |
| birthtimeMs    | Integer                | The time (in ms since POSIX epoch) when the library item was created on disk. Will be 0 if unknown.
| addedAt        | Integer                | The time (in ms since POSIX epoch) when the library item was added to the library.      |
| updatedAt      | Integer                | The time (in ms since POSIX epoch) when the library item was last updated. (Read Only)  |
| lastScan       | Integer or null        | The time (in ms since POSIX epoch) when the library item was last scanned. Will be null if the server has not yet scanned the library item.
| scanVersion    | String or null        | The version of the scanner when last scanned. Will be null if it has not been scanned.  |
| isMissing      | Boolean                | Whether the library item was scanned and no longer exists.                              |
| isInvalid      | Boolean                | Whether the library item was scanned and no longer has media files.                    |
| mediaType      | String                 | What kind of media the library item contains. Will be book or podcast.                  |
| media          | Book or Podcast Object| The media of the library item.                                                      |
| libraryFiles   | Array of Library File  | The files of the library item.                                                      |
- instead of a `media` column let's add two columns `book_id` and `podcast_id` only one of which will be used based on `mediaType`

### Book
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| libraryItemId| String                 | The ID of the library item that contains the book.                                          |
| metadata     | Book Metadata Object   | The book's metadata.                                                                      |
| coverPath    | String or null         | The absolute path on the server of the cover file. Will be null if there is no cover.      |
| tags         | Array of String        | The book's tags.                                                                            |
| audioFiles   | Array of Audio File    | The book's audio files.                                                                   |
| chapters     | Array of Book Chapter  | The book's chapters.                                                                     |
| ebookFile    | EBook File Object or null| The book's ebook file. Will be null if this is an audiobook.                                |

### Book Metadata
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| title        | String or null         | The title of the book. Will be null if unknown.                                          |
| subtitle     | String or null         | The subtitle of the book. Will be null if there is no subtitle.                        |
| authors	   | Array of Author Minified| The authors of the book.                        |
| narrators	   | Array of String        | The narrators of the audiobook.
| series       | Array of Series Sequence| The series the book belongs to.                                          |
| genres       | Array of String        | The genres of the book.                                                |
| publishedYear| String or null         | The year the book was published. Will be null if unknown.              |
| publishedDate| String or null         | The date the book was published. Will be null if unknown.              |
| publisher    | String or null         | The publisher of the book. Will be null if unknown.                      |
| description  | String or null         | A description for the book. Will be null if empty.                      |
| isbn         | String or null         | The ISBN of the book. Will be null if unknown.                          |
| asin         | String or null         | The ASIN of the book. Will be null if unknown.                          |
| language     | String or null         | The language of the book. Will be null if unknown.                      |
| explicit	Boolean	Whether the book has been marked as explicit.
- let's push all these columns into the books table since metadata is 1:1 with the book

### Book Chapter
| Attribute    | Type                   | Description                                                                                   |
|--------------|------------------------|-----------------------------------------------------------------------------------------------|
| id           | Integer                | The ID of the book chapter.                                                                  |
| start        | Float                  | When in the book (in seconds) the chapter starts.                                          |
| end          | Float                  | When in the book (in seconds) the chapter ends.                                            |
| title        | String                 | The title of the chapter.                                                                  |
